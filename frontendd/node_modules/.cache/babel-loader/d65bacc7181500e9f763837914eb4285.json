{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/Bastian/Desktop/Chat_App/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _defineProperty from\"C:/Users/Bastian/Desktop/Chat_App/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Bastian/Desktop/Chat_App/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/Bastian/Desktop/Chat_App/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Bastian/Desktop/Chat_App/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject;import _regeneratorRuntime from\"C:\\\\Users\\\\Bastian\\\\Desktop\\\\Chat_App\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import styled from'styled-components';import Logo from'../assets/Logo1.jpg';import{ToastContainer,toast}from'react-toastify';import\"react-toastify/dist/ReactToastify.css\";import axios from'axios';import{loginRoute}from'../utils/APIRoutes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){var navigate=useNavigate();var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var toastOptions={position:\"bottom-right\",autoClose:8000,pauseOnHover:true,draggable:true,theme:\"dark\"};useEffect(function(){if(localStorage.getItem(\"chat-app-user\")){navigate(\"/\");}},[]);var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var password,username,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!handleValidation()){_context.next=9;break;}password=values.password,username=values.username;_context.next=5;return axios.post(loginRoute,{username:username,password:password});case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;if(data.status===false){toast.error(data.msg,toastOptions);}if(data.status===true){localStorage.setItem(\"chat-app-user\",JSON.stringify(data.user));navigate(\"/\");}case 9:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleValidation=function handleValidation(){var password=values.password,username=values.username;if(password===\"\"){toast.error(\"Email and Password is required\",toastOptions);return false;}else if(username.length===\"\"){toast.error(\"Email and Password is required\",toastOptions);return false;}return true;};var handleChange=function handleChange(event){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},event.target.name,event.target.value)));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FormContainer,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){return handleSubmit(event);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"brand\",children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"Logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Snappy\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",name:\"username\",onChange:function onChange(e){return handleChange(e);},min:\"3\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",name:\"password\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login In\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Don't have an acccount ? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Login\"})]})]})}),/*#__PURE__*/_jsx(ToastContainer,{})]});};var FormContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    height:100vh;\\n    width:100vw;\\n    display:flex;\\n    justify-content:center;\\n    flex-direction:column;\\n    gap:1rem;\\n    align-items:center;\\n    background-color: #131324;\\n    .brand{\\n        display:flex;\\n        align-items:center;\\n        gap:1rem;\\n        justify-content: center;\\n        img{\\n            height:5rem\\n        }\\n        h1{\\n            color:white;\\n            text-transform:uppercase;\\n        }\\n    }\\n    form{\\n        display:flex;\\n        flex-direction:column;\\n        gap:2rem;\\n        background-color: #00000076;\\n        border-radius: 2rem;\\n        padding: 3rem 5rem;\\n        input{\\n            background-color:transparent;\\n            padding:1rem;\\n            border: 0.1rem solid #4e0eff;\\n            border-radius: 0.4rem;\\n            color:white;\\n            width:100%;\\n            font-size: 1rem;\\n            &:focus{\\n                border:0.1rem solid #997af0;\\n                outline: none;\\n            }\\n        }\\n        button{\\n            background-color: #997af0;\\n            color: white;\\n            padding: 1rem 2rem;\\n            border:none ;\\n            font-weight: bold;\\n            cursor:pointer;\\n            border-radius: 0.4rem;\\n            font-size:1rem;\\n            text-transform: uppercase;\\n            transition: 0.5s ease-in-out;\\n            &:hover{\\n                background-color: #4e0eff;\\n            }\\n        }\\n        span{\\n            color:white;\\n            text-transform: uppercase;\\n            a{\\n                color: #4e0eff;\\n                text-transofrm: none;\\n                font-weight: bold\\n                text-decoration:none;\\n            }\\n        }\\n    }\\n\\n\\n\"])));export default Login;","map":{"version":3,"sources":["C:/Users/Bastian/Desktop/Chat_App/frontend/src/pages/Login.jsx"],"names":["React","useState","useEffect","Link","useNavigate","styled","Logo","ToastContainer","toast","axios","loginRoute","Login","navigate","username","password","values","setValues","toastOptions","position","autoClose","pauseOnHover","draggable","theme","localStorage","getItem","handleSubmit","event","preventDefault","handleValidation","post","data","status","error","msg","setItem","JSON","stringify","user","length","handleChange","target","name","value","e","FormContainer","div"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Logo from '../assets/Logo1.jpg';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport axios from 'axios';\r\nimport { loginRoute } from '../utils/APIRoutes';\r\n\r\n\r\nconst Login = () => {\r\n    const navigate = useNavigate();\r\n    const [values, setValues] = useState({\r\n        username: \"\",\r\n        password: \"\"\r\n    })\r\n    const toastOptions = {\r\n        position: \"bottom-right\",\r\n        autoClose: 8000,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        theme: \"dark\"\r\n    }\r\n    useEffect(()=>{\r\n        if(localStorage.getItem(\"chat-app-user\")){\r\n            navigate(\"/\")\r\n        }\r\n    },[])\r\n    const handleSubmit = async(event)=>{\r\n        event.preventDefault();\r\n        if(handleValidation()){\r\n            const {password, username} = values;\r\n            const {data} = await axios.post(loginRoute,{\r\n                username,\r\n                password\r\n            });\r\n            if(data.status === false){\r\n                toast.error(data.msg, toastOptions)\r\n            }\r\n            if(data.status === true){\r\n                localStorage.setItem(\"chat-app-user\", JSON.stringify(data.user))\r\n                navigate(\"/\")\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleValidation = ()=>{\r\n        const {password, username} = values; \r\n        if(password === \"\"){\r\n            toast.error(\"Email and Password is required\", toastOptions);\r\n            return false;\r\n        }else if(username.length === \"\"){\r\n            toast.error(\"Email and Password is required\", toastOptions);\r\n            return false\r\n        }\r\n        return true\r\n    };\r\n\r\n    const handleChange = (event) =>{\r\n        setValues({...values, [event.target.name]: event.target.value})\r\n    }\r\n\r\n  return (\r\n    <>\r\n        <FormContainer>\r\n            <form onSubmit={(event)=>handleSubmit(event)}>\r\n                <div className='brand'>\r\n                    <img src={Logo} alt=\"Logo\"/>\r\n                    <h1>Snappy</h1>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder='Username'\r\n                  name=\"username\"\r\n                  onChange={(e)=>handleChange(e)}\r\n                  min=\"3\"\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder='Password'\r\n                  name=\"password\"\r\n                  onChange={(e)=>handleChange(e)}\r\n                />\r\n                <button type=\"submit\">Login In</button>\r\n                <span>\r\n                    Don't have an acccount ? <Link to=\"/register\">Login</Link>\r\n                </span>\r\n            </form>\r\n        </FormContainer>\r\n        <ToastContainer/>\r\n    </>\r\n  )\r\n}\r\n\r\nconst FormContainer = styled.div`\r\n    height:100vh;\r\n    width:100vw;\r\n    display:flex;\r\n    justify-content:center;\r\n    flex-direction:column;\r\n    gap:1rem;\r\n    align-items:center;\r\n    background-color: #131324;\r\n    .brand{\r\n        display:flex;\r\n        align-items:center;\r\n        gap:1rem;\r\n        justify-content: center;\r\n        img{\r\n            height:5rem\r\n        }\r\n        h1{\r\n            color:white;\r\n            text-transform:uppercase;\r\n        }\r\n    }\r\n    form{\r\n        display:flex;\r\n        flex-direction:column;\r\n        gap:2rem;\r\n        background-color: #00000076;\r\n        border-radius: 2rem;\r\n        padding: 3rem 5rem;\r\n        input{\r\n            background-color:transparent;\r\n            padding:1rem;\r\n            border: 0.1rem solid #4e0eff;\r\n            border-radius: 0.4rem;\r\n            color:white;\r\n            width:100%;\r\n            font-size: 1rem;\r\n            &:focus{\r\n                border:0.1rem solid #997af0;\r\n                outline: none;\r\n            }\r\n        }\r\n        button{\r\n            background-color: #997af0;\r\n            color: white;\r\n            padding: 1rem 2rem;\r\n            border:none ;\r\n            font-weight: bold;\r\n            cursor:pointer;\r\n            border-radius: 0.4rem;\r\n            font-size:1rem;\r\n            text-transform: uppercase;\r\n            transition: 0.5s ease-in-out;\r\n            &:hover{\r\n                background-color: #4e0eff;\r\n            }\r\n        }\r\n        span{\r\n            color:white;\r\n            text-transform: uppercase;\r\n            a{\r\n                color: #4e0eff;\r\n                text-transofrm: none;\r\n                font-weight: bold\r\n                text-decoration:none;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n`;\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}